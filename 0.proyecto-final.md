```
Programa de Ingenier√≠a de Sistemas y Computaci√≥n
Universidad del Quind√≠o

T√≠tulo: Proyecto Final del espacio acad√©mico
Duraci√≥n estimada: 60
Docente: Carlos Andr√©s Florez
```

# üéØ Objetivo

Desarrollar una aplicaci√≥n web para la gesti√≥n de alojamientos (casas, apartamentos, fincas), reservas y comentarios, con roles diferenciados para usuarios y anfitriones, utilizando **Spring Boot** (JPA) y **Angular**.  

---

## ‚úÖ Funcionalidades esenciales (obligatorias)

### Roles y Acciones 
- **Usuario**:  
  - Registrarse e iniciar sesi√≥n.  
  - Buscar alojamientos disponibles (por ciudad, fechas, precio).  
  - Realizar reservas (seleccionar fechas, confirmar detalles).  
  - Cancelar reservas (sujeto a pol√≠ticas).  
  - Dejar comentarios y calificaciones (solo despu√©s de una estad√≠a completada).  
  - Ver su historial de reservas (activas, pasadas, canceladas).  
  - Ver detalles completos de cada alojamiento (galer√≠a, calendario de disponibilidad, comentarios, etc).

- **Anfitri√≥n (Due√±o de alojamiento)**:  
  - Registrarse e iniciar sesi√≥n (con rol "anfitri√≥n").  
  - Gestionar sus alojamientos (CRUD). 
    - Ver la lista de sus propios alojamientos.
    - Crear nuevo alojamiento o editar uno existente.
    - Eliminar: Solo si no tiene reservas futuras. Adem√°s, la eliminaci√≥n se debe hacer internamente en la base de datos por medio de un estado "eliminado" (soft delete).
  - Ver m√©tricas b√°sicas por alojamiento: N√∫mero de reservas, promedio de calificaciones (aplicar filtro por rango de fechas). 
  - Ver reservas de sus alojamientos (filtros por fechas, estado).  
  - Aprobar/rechazar solicitudes de reserva (opcional, si se implementa flujo de confirmaci√≥n manual).  
  - Responder a comentarios de los hu√©spedes.  

### Gesti√≥n de usuarios:

- **Registro**:  
  - Campos obligatorios: nombre, email (√∫nico), contrase√±a (encriptada), tel√©fono, rol, fecha de nacimiento.  
  - Validaci√≥n: formato de email, contrase√±a segura (m√≠nimo 8 caracteres, may√∫sculas/n√∫meros).  
- **Autenticaci√≥n**: JWT para sesiones persistentes.  
- **Edici√≥n de perfil**:  
  - Usuario: Actualizar nombre, tel√©fono, foto de perfil.  
  - Anfitri√≥n: A√±adir datos adicionales (ejemplo: descripci√≥n personal, documentos legales si aplica).
- **Cambiar contrase√±a**:
  - Si el usuario olvida su contrase√±a, deber√° poder restablecerla. Para ello, se le enviar√° un c√≥digo de recuperaci√≥n a su correo electr√≥nico. Este c√≥digo deber√° ingresarse en la p√°gina de recuperaci√≥n de contrase√±a junto con la nueva contrase√±a deseada. Este c√≥digo tendr√° una validez de 15 minutos, si se vence deber√° solicitar uno nuevo.
  - Si el usuario desea cambiar su contrase√±a por decisi√≥n propia, podr√° hacerlo ingresando su contrase√±a actual y la nueva contrase√±a que desea establecer.


### Gesti√≥n de alojamientos:

#### Elementos del Alojamiento 
- **Atributos b√°sicos**:  
  - T√≠tulo, descripci√≥n detallada.  
  - Ubicaci√≥n: ciudad, direcci√≥n y ubicaci√≥n exacta (latitud y longitud).  
  - Precio por noche, capacidad m√°xima, servicios (wifi, cocina, piscina, etc).  
  - Im√°genes (m√≠nimo 1, m√°ximo 10, con imagen principal destacada).  
- **Relaciones**:  
  - Un anfitri√≥n puede tener m√∫ltiples alojamientos.  
  - Cada alojamiento tiene una lista de reservas y comentarios.

### Reservas:

#### Creaci√≥n de Reserva  
- **Usuario**:  
   - Selecciona fechas (check-in/check-out) en el calendario interactivo, e indica el n√∫mero de hu√©spedes.  
   - El sistema valida:  
     - Disponibilidad (no solapamiento con otras reservas).  
     - M√≠nimo 1 noche.  
     - No se pueden reservar fechas pasadas.
     - Capacidad m√°xima: No se puede superar el n√∫mero de hu√©spedes permitido.
   - Confirma reserva: Recibe correo con detalles. 
   - Puede ver el estado de su reserva (Pendiente, Confirmada, Cancelada, Completada).
  
- **Anfitri√≥n**:  
   - Recibe notificaci√≥n (email o en-app) de nueva reserva.  
   - Puede ver todas las reservas de su alojamiento en una vista de calendario o lista.  

#### Cancelaci√≥n de Reserva    
- **Usuario**:  
   - Puede cancelar hasta 48 horas antes del check-in.

- **Anfitri√≥n**:  
   - Recibe notificaci√≥n (email o en-app) de cancelaci√≥n de reserva.   
   - Las reservas canceladas aparecen en el historial con estado "Cancelada".  

#### Listado de reservas

- **Usuario y Anfitri√≥n**: 
   - Listado de sus reservas de la m√°s reciente a la m√°s antigua.  
   - Se debe permitir aplicar diferentes filtros a listado de reservas.

### Comentarios y calificaciones:

- **Usuario**:  
  - Solo puede comentar si tuvo una reserva completada (fecha de check-out pasada).  
  - M√°ximo 1 comentario por reserva.  
  - Campos:  
    - Calificaci√≥n (1-5 estrellas, obligatorio).  
    - Comentario (texto, m√°ximo 500 caracteres).  
  - Puede ver el listado de comentarios de un alojamiento ordenados por fecha (m√°s recientes primero).   
  - Debe poder ver el promedio de calificaciones del alojamiento
  
- **Anfitri√≥n**:  
  - Puede responder a comentarios (ejemplo: "Gracias por tu feedback").  
  - Puede ver el listado de comentarios de un alojamiento ordenados por fecha (m√°s recientes primero).   
  - Recibe notificaci√≥n (email o en-app) de nuevos comentarios. 
  - Debe poder ver el promedio de calificaciones del alojamiento.

### B√∫squeda de alojamientos:

Filtros disponibles:

- **Por ciudad**: B√∫squeda predictiva (ejemplo: "Bogot√°" sugiere "Bogot√° D.C.").  
- **Por fechas**: Muestra solo alojamientos disponibles en ese rango.  
- **Por precio**: Deslizador para rango m√≠nimo-m√°ximo (ejemplo: $50 - $200/noche).  
- **Por servicios**: Filtros adicionales (ejemplo: WiFi, piscina, mascotas permitidas).  

### Vista de Resultados  
- Tarjetas con imagen principal, precio, ubicaci√≥n y calificaci√≥n promedio. 
- Mapa con la ubicaci√≥n exacta de cada alojamiento.
- Para todas las listas se debe usar paginaci√≥n (10 resultados por p√°gina). Recuerde ignorar aquellos alojamientos cuyo estado sea "eliminado".
- Al hacer clic en un alojamiento, se accede a su detalle completo (galer√≠a, descripci√≥n, mapa con ubicaci√≥n exacta, calendario de disponibilidad, comentarios).

---

## üü° Funcionalidades opcionales

Las siguientes funcionalidades no son obligatorias, pero pueden ser consideradas como retos adicionales. 

### 1. Descuentos en Fechas Especiales
Requiere l√≥gica adicional y estructura de promociones.

- **Anfitri√≥n**: Puede crear promociones (ejemplo: "10% off en diciembre").  
- **Usuario**: Ve el precio con descuento en los resultados de b√∫squeda.  

### 2. Sistema de Recomendaciones  
Alta complejidad si se quiere hacer bien (requiere an√°lisis de patrones, similaridad, etc.).

- **Usuario**: Recibe sugerencias basadas en:  
  - Historial de b√∫squedas.  
  - Alojamientos similares a sus reservas pasadas.  

### 3. Chat en Tiempo Real 
Requiere WebSockets o tecnolog√≠a similar.

- **Usuario y Anfitri√≥n**: Pueden comunicarse despu√©s de una reserva confirmada.  
- Notificaciones en tiempo real (ejemplo: "Nuevo mensaje de [Usuario]").  

### 4. Pagos en L√≠nea 
Requiere afiliaci√≥n a pasarelas de pagos.
- **Usuario**:  
  - Simula pago con tarjeta (entorno de desarrollo).  
  - Recibe confirmaci√≥n autom√°tica de reserva.  
- **Anfitri√≥n**: 
  - Ve el estado "Pagado" en las reservas.  ¬†

### 5. Gesti√≥n de listas de favoritos
- **Usuario**:
  - Puede marcar alojamientos como ‚ÄúFavoritos‚Äù para revisarlos m√°s tarde.
  - Puede acceder a una secci√≥n con todos sus alojamientos favoritos.
- **Anfitri√≥n**:
  - Puede ver cu√°ntos usuarios han marcado su alojamiento como favorito (m√©trica √∫til).

### 6. Recordatorios autom√°ticos
- **Sistema**:
  - Env√≠a un email o notificaci√≥n push al usuario con recordatorios previos al check-in.
  - Env√≠a notificaciones al anfitri√≥n antes de la llegada del hu√©sped.

### 7. Cupones de descuento personalizados
- **Anfitri√≥n**:
  - Crea c√≥digos promocionales para descuentos en reservas.
- **Usuario**:
  - Ingresa el cup√≥n al momento de reservar y ve el descuento aplicado.

---

## ‚ö†Ô∏è Para tener en cuenta

- El proyecto se debe implementar usando Spring Boot en el backend y Angular en el frontend. As√≠ como MariaDB para la gesti√≥n de los datos. 
- Para el manejo de im√°genes se debe hacer uso de un servicio externo, puede ser Cloudinary, Firebase, AWS S3, Google Cloud Storage, etc.
- El c√≥digo fuente del proyecto debe estar en un repositorio de Github. Todos los integrantes del grupo deben contribuir en el desarrollo del proyecto. 
- Para el manejo de los mapas se recomienda usar [Mapbox](https://www.mapbox.com/).
- **Debe elegir una de las funcionalidades opcionales para implementarla en el proyecto final**.

---
Universidad del Quind√≠o üíö 2025