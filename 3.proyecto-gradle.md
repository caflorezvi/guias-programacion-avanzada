```
Programa de Ingeniería de Sistemas y Computación
Universidad del Quindío

Título: Proyecto Spring Boot - Gradle
Duración estimada: 90
Docentes: Carlos Andrés Florez, Christian Andrés Candela
Guía: 03
```

# Proyecto Spring Boot - Gradle

## 🎯 Objetivo

El objetivo de esta guía es proporcionar una comprensión clara y detallada sobre qué es un proyecto Gradle, cómo configurarlo y por qué es esencial en el desarrollo de aplicaciones empresariales con Java. Además, se busca que los estudiantes adquieran habilidades prácticas para crear y gestionar proyectos utilizando Gradle como herramienta de construcción. Así mismo, se espera proporcionar una alternativa rápida y sencilla para la creación de un proyecto Spring Boot utilizando **Spring Initializr**, una herramienta en línea que genera automáticamente la estructura básica del proyecto con las dependencias seleccionadas.

---

## Conceptos Básicos

Antes de profundizar en la configuración de un proyecto Gradle, es importante entender algunos conceptos fundamentales:

1. **Archivos DSL (Domain-Specific Language):**  
   Gradle utiliza un DSL basado en Groovy o Kotlin para definir las configuraciones del proyecto. Este archivo (`build.gradle`) es el corazón del sistema de construcción.

2. **Archivos de Propiedades:**  
   Archivos como `application.properties` permiten configurar aspectos específicos del proyecto, como conexiones a bases de datos, logging y otros parámetros.

3. **MariaDB:**  
   Base de datos relacional que se deriva de MySQL. Es muy usada y es conocida por su alto rendimiento y fiabilidad.

4. **Gradle vs. Maven:**  
   Ambas son herramientas de construcción de software, pero Gradle ofrece mayor flexibilidad gracias a su DSL y su capacidad para manejar proyectos complejos.  

---

## Contextualización Teórica

### Herramientas de Gestión y Construcción de Proyectos

Una herramienta de gestión y construcción de proyectos automatiza procesos clave del desarrollo de software, como la compilación del código, la ejecución de pruebas, el empaquetado de artefactos y el despliegue. También gestiona dependencias externas y asegura que las construcciones sean repetibles y consistentes.

En el ecosistema de Java, las herramientas más populares son **Maven** y **Gradle**.

#### Gradle
Gradle es un sistema de automatización de construcción de software que combina lo mejor de **Apache Ant** y **Apache Maven**, pero introduce un DSL basado en Groovy o Kotlin. Esto permite una configuración más flexible y legible en comparación con el XML utilizado por Maven.

- **Archivo `build.gradle`:** Define las configuraciones del proyecto, incluidas dependencias, plugins y propiedades.
- **Archivo `settings.gradle`:** Define los módulos del proyecto.
- **Wrapper (`gradlew`):** Facilita la ejecución del proyecto sin necesidad de instalar Gradle globalmente.

#### Maven
Maven utiliza un archivo `pom.xml` para definir las dependencias y configuraciones del proyecto. Aunque es más rígido que Gradle, sigue siendo ampliamente utilizado en proyectos Java.

**Referencia:**  
- Apache Maven Documentation: [Maven Guides](https://maven.apache.org/guides/).  
- Gradle Documentation: [Gradle User Guide](https://docs.gradle.org/current/userguide/userguide.html).

---

## Precauciones y Recomendaciones

1. **Verificación del JDK:**  
   Asegúrese de tener instalado el JDK 21, ya que es compatible con las últimas versiones de Spring Boot.

3. **Actualización de Gradle:**  
   Siempre actualice Gradle después de modificar el archivo `build.gradle` para que las dependencias y configuraciones se apliquen correctamente.

---

## Procedimiento

### 1. Creación del Proyecto
Siga los siguientes pasos:
- Abra IntelliJ IDEA y vaya a `File > New > Project`.
- Seleccione la opción **Gradle** y elija el **JDK 21**.
- Configure el nombre del proyecto, la ubicación, el lenguaje (Java) y el DSL (Groovy).
- Active la opción "Create Git Repository"
- Desmarque la opción "Add sample code"
- Haga clic en **Create**.

### 2. Configuración del Archivo `build.gradle`
Modifique el archivo `build.gradle` para incluir las dependencias necesarias:

```groovy
plugins {
    id 'java'
    id 'org.springframework.boot' version '3.5.5'
    id 'io.spring.dependency-management' version '1.1.7'
}

group = 'co.edu.uniquindio'
version = '0.0.1-SNAPSHOT'
description = 'Breve descripción del proyecto'

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-validation'
    implementation 'org.springframework.boot:spring-boot-starter-web'
    compileOnly 'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
}

tasks.named('test') {
    useJUnitPlatform()
}
```

### 3. Actualización de Gradle
Haga clic en el botón flotante con el ícono de elefante para actualizar Gradle. Esto descargará las dependencias necesarias.

### 4. Creación de la Clase Principal
Cree un paquete llamado `co.edu.uniquindio.application` en `src/main/java` y agregue la siguiente clase:

```java
package co.edu.uniquindio.application;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class MainApplication {

    public static void main(String[] args) {
        SpringApplication.run(MainApplication.class, args);
    }
}
```

### 5. Despliegue del Proyecto
- Ejecute el método `main` de la clase `MainApplication`. 
- Verifique que el proyecto se inicie correctamente en la consola. Debería ver mensajes relacionados con el arranque de Spring Boot.

---

## ⚠️ Creación de un proyecto spring boot con Spring initializr (opción alternativa)

### 1. Acceder a Spring Initializr
- Abra su navegador web y vaya a [Spring Initializr](https://start.spring.io/).
- Esta herramienta permite configurar y generar un proyecto Spring Boot básico con las dependencias necesarias.

### 2. Configurar el Proyecto
En la interfaz de Spring Initializr, configure los siguientes campos:

- **Project:** Seleccione `Gradle Project` (o `Maven Project` si prefiere Maven).
- **Language:** Seleccione `Java`.
- **Spring Boot Version:** Elija la versión más reciente compatible (por ejemplo, `3.5.x`).
- **Project Metadata:**
  - **Group:** `co.edu.uniquindio`
  - **Artifact:** `proyecto`
  - **Name:** `proyecto`
  - **Description:** Breve descripción del proyecto.
  - **Package Name:** `co.edu.uniquindio.application`
  - **Packaging:** `Jar`
  - **Java Version:** `21`

### 3. Seleccionar Dependencias
En la sección **Dependencies**, agregue las siguientes dependencias básicas para un proyecto empresarial:

- **Spring Web:** Para desarrollar aplicaciones web.
- **Validation:** Para validar entradas de datos.
- **Lombok:** Para reducir código repetitivo (opcional pero recomendado).

### 4. Generar el Proyecto
- Una vez configurado, haga clic en el botón **Generate**.
- Esto descargará un archivo `.zip` con la estructura básica del proyecto.

### 5. Descomprimir y Abrir el Proyecto
- Descomprima el archivo `.zip` descargado en una carpeta de su elección.
- Abra IntelliJ IDEA y seleccione **File > Open**.
- Navegue hasta la carpeta descomprimida y abra el archivo `build.gradle` (o `pom.xml` si usó Maven).

### 6. Importar el Proyecto en IntelliJ IDEA
- IntelliJ detectará automáticamente que es un proyecto Gradle o Maven.
- Siga las indicaciones para importar el proyecto y descargar las dependencias necesarias.

### 7. Crear la Clase Principal
- Verifique que la clase principal del proyecto (`MainApplication`) esté presente en el paquete `co.edu.uniquindio.application`. Debería verse así:

```java
package co.edu.uniquindio.application;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class MainApplication {

    public static void main(String[] args) {
        SpringApplication.run(MainApplication.class, args);
    }
}
```

### 8. Ejecutar el Proyecto
- Ejecute el método `main` de la clase `MainApplication`.
- Verifique que el proyecto se inicie correctamente en la consola. Debería ver mensajes relacionados con el arranque de Spring Boot.

---

## **Configuración de Git**

### 1. Crear Repositorio en GitHub
Como preparación a la configuración de **GIT** en su sistema, se recomienda que primero acceda a [github](https://github.com) y cree un repositorio para su proyecto.

### 2. Configure sus datos de usuario
Para ello deberá ejecutar las siguientes lineas en la consola, usando sus datos.

```bash
git config --global user.email "you@example.com"
git config --global user.name "Your Name"
```

### 3. Cree un archivo `.gitignore`
Si no lo tiene, cree un archivo `.gitignore` en la raíz del proyecto de Spring Boot con el siguiente contenido:

```gitignore
/.idea/
*.class
/.gradle/
/*/bin/
/*/build/
/build/
```
> **Nota:** Según sus necesidades se pueden adicionar otros elementos a este archivo.

### 4. Inicialice un repositorio Git:

Para inicializar un repositorio Git en su proyecto, abra una terminal en la raíz del proyecto y ejecute los siguientes comandos:

```bash
git init
git add .
git commit -m "Commit inicial"
```

### 5. Agregar el repositorio remoto

Agregue el repositorio remoto (GitHub) y haga push:

```bash
git remote add origin <URL_DEL_REPOSITORIO>
git push -u origin master
   ```
**Nota:** En este punto deberá aparecer una ventana que le pedira que se autentique en github (en dado de que su repositorio sea de github).

---

## Evaluación o Resultado

Se espera que los estudiantes completen la configuración de un proyecto básico utilizando Gradle y Spring Boot. Al finalizar, deben ser capaces de:

1. Crear un proyecto Gradle desde cero.
2. Configurar dependencias y propiedades del proyecto.
3. Desplegar el proyecto y verificar su correcto funcionamiento.
4. Crear un repositorio git y versionar su proyecto
   
---

## Próxima Actividad

Para prepararse para las próximas clases, los estudiantes deben investigar sobre:

1. **API**
2. **HTTP**
3. **Métodos HTTP**
4. **RESTful**

---

## Referencias Bibliográficas

1. Chodorow, K. (2013). *MongoDB: The Definitive Guide*. O'Reilly Media.
2. Walls, C. (2019). *Spring Boot in Action*. Manning Publications.
3. Apache Maven Documentation: [Maven Guides](https://maven.apache.org/guides/).
4. Gradle Documentation: [Gradle User Guide](https://docs.gradle.org/current/userguide/userguide.html).
5. Spring Boot Documentation: [Spring Boot Reference](https://docs.spring.io/spring-boot/docs/current/reference/html/).
6. Spring Initializr Documentation: [Spring Initializr Guide](https://start.spring.io/).
7. Walls, C. (2019). *Spring Boot in Action*. Manning Publications.
8. Spring Boot Reference Documentation: [Spring Boot Docs](https://docs.spring.io/spring-boot/docs/current/reference/html/).